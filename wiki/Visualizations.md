# 可视化视图说明

## 原始输出 (含 Token)
- 显示模型生成文本（最多 200 个词）以及 Token 级别表格，包含阶段（输入/生成）、概率、排名、困惑度、语义类别。
- 表格支持排序/过滤，帮助定位模型最犹豫或最自信的 Token。

## 注意力可视化
- 最多同时展示 3 个注意力层。若选择超过 3 层，可使用“注意力层窗口”滑块分页查看。
- “选择高亮 Token 索引”滑块可在所有热力图同步标记目标 Token 的注意力指向；标题下方会提示当前 Token 内容。
- 图表使用 `RdBu` 色系，红色代表高注意力，蓝色代表低注意力。

## Token 推理时序流
- 展示生成阶段每个 Token 的概率与困惑度曲线（双轴），并附带动画播放/暂停按钮。
- 颜色编码：红色表示高置信度，黄色表示犹豫节点，青色表示罕见选择。
- 下方数据表可与图表联动，导出 HTML/PNG 时可保留交互。

## 语义空间聚类
- 选择最多 3 个层的隐藏状态，使用 PCA 或 t-SNE 投影到 2D；散点颜色对应语义类别（数字、逻辑词、名词等）。
- 可以通过 Plotly 框选查看局部 Token，并结合下方表格分析聚类趋势。

## 导出
- 所有视图都提供 HTML/PNG 下载按钮。HTML 保留 Plotly 交互，适合分享；PNG 便于插入幻灯片。
